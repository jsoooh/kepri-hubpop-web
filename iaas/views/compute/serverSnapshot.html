<!-- 디스크 정보 -->
<div class="card-input-wrap">
	<div class="row" ng-if="!!main.userTenantId">
		<div class="col-md-6">
			<div class="font-size-18 padding-top-5">
				<b>전체 백업 이미지 <span class="color-primary">({{(contents.instanceSnapshotList | filter:{ status : '!deleting'}).length + (contents.storageSnapshotList | filter:{ status : '!deleting'}).length}})</span></b>
			</div>
		</div>
		<div class="col-md-6">
			<div class="text-right">
				<!-- 검색 -->
				<div class="form-group inline-block margin-bottom-0">
					<div class="input-icon-type2 icon-right" ng-if="contents.tabIndex == 0">
						<input type="text" class="form-control form-control-md" placeholder="백업 이미지 검색" style="width:300px;" ng-model="contents.schInstanceFilterText" >
						<span class="input-icon-addon" ng-click="contents.schInstanceFilterText = ''">
							<i class="xi-close"></i>
						</span>
					</div>
					<div class="input-icon-type2 icon-right" ng-if="contents.tabIndex == 1">
						<input type="text" class="form-control form-control-md" placeholder="백업 이미지 검색" style="width:300px;" ng-model="contents.schStorageFilterText">
						<span class="input-icon-addon" ng-click="contents.schStorageFilterText = ''">
							<i class="xi-close"></i>
						</span>
					</div>
				</div>
				<!-- <button type="button" name="button" class="btn btn-sch" title="지우기" ng-click="contents.schInstanceFilterText = ''; contents.schStorageFilterText = ''"><span class="ico">지우기</span></button> -->
				<!-- //검색 -->
				
				<!-- 목록 카드형/리스트형 선택 버튼 -->
				<button type="button" class="btn btn-default" title="카드형" ng-click="contents.listType = 'image'" ng-class="{ on : contents.listType == 'image'}">
					<div class="feather-icon">
						<i data-feather="grid" class="feather-directive"></i>
					</div>
					<span class="sr-only">카드형</span>
				</button>
				<button type="button" class="btn btn-default" title="리스트형" ng-click="contents.listType = 'list'" ng-class="{ on : contents.listType == 'list'}">
					<div class="feather-icon">
						<i data-feather="list" class="feather-directive"></i>
					</div>
					<span class="sr-only">리스트형</span>
				</button>
				<!-- //목록 카드형/리스트형 선택 버튼 -->
			</div>
		</div>
	</div>
</div>
<!-- //디스크 정보 -->

<!-- 탭영역 -->
<div ng-if="!!main.userTenantId">
	<!-- Nav tabs -->
	<ul class="nav nav-tabs nav-tabs-btn nav-tabs-lg" role="tablist">
		<li role="presentation" ng-class="{'active' : contents.tabIndex == 0}"><a href="" ng-click="contents.tabIndex = 0">서버 백업 이미지<span>({{(contents.instanceSnapshotList | filter:{ status : '!deleting'}).length}})</span></a></li>
		<li role="presentation" ng-class="{'active' : contents.tabIndex == 1}"><a href="" ng-click="contents.tabIndex = 1">디스크 백업 이미지<span>({{(contents.storageSnapshotList | filter:{ status : '!deleting'}).length}})</span></a></li>
	</ul>
	<!-- //Nav tabs -->
	<!-- Tab panes -->
	<div class="tab-content padding-top-30">
		<!-- tab1 cnt -->
		<div role="tabpanel" class="tab-pane in" ng-class="{'active' : contents.tabIndex == 0}">
			<!-- 백업이미지 관리 리스트(카드형) -->
			<div class="card-list-wrap" ng-if="(contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }).length > 0 && contents.listType == 'image'" >
				<div class="row">
					<div class="col-md-4" ng-repeat="instanceSnapshot in contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }">
						<div class="card card-type1">
							<div class="card-header">
								<div class="card-info-area">
									<div class="text-box">
										<div class="top">
											<div class="row">
												<div class="col-xs-10">
													<b class="title" title="{{instanceSnapshot.name}}">{{instanceSnapshot.name}}</b>
													<!-- <b class="title" title="{{instanceSnapshot.instanceName}}" ng-click="main.goToPage('/iaas/compute/detail/'+snapshot.instanceId)">{{instanceSnapshot.instanceName}}</b> -->
												</div>
												<div class="col-xs-2">
													<div class="pull-right dropdown btn-option">
														<button type="button" class="btn btn-xs btn-nostyle dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="실행 설정">
															<div class="feather-icon">
																<i data-feather="more-horizontal" class="feather-directive"></i>
															</div>
														</button>
														<ul class="dropdown-menu dropdown-menu-right" role="btn-optionn" aria-labelledby="btn-option">
															<li ng-if="instanceSnapshot.status == 'active'"><a ng-click="main.goToPage('/iaas/snapshot/serverCreate/' + instanceSnapshot.id + '/');">서버 생성</a></li>
															<li ng-if="instanceSnapshot.status != 'active'"><a class="disabled" title="백업 이미지가‘사용가능’상태인 경우에만 '서버 생성'이 가능합니다.">서버 생성</a></li>
															<li><a ng-click="contents.fn.descriptionFormOpen($event, instanceSnapshot, 'server');">이미지 설명 변경</a></li>
															<li><a class="delete" ng-click="contents.fn.deleteInstanceSnapshot(instanceSnapshot);">이미지 삭제</a></li>
														</ul>
													</div>
												</div>
											</div>
											<div class="clearfix">
												<span class="date">{{ instanceSnapshot.created | date : 'yyyy-MM-dd HH:mm:ss'}}</span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="card-body">
								<div class="row">
									<div class="cnt_wrap padding-0">
										<div class="col-sm-4 text-center">
											<div class="cnt_imgBox">
												<span class="cnt_img ico02"></span>
												<div class="clearfix">{{instanceSnapshot.disk | displayVolume:'GB'}}</div>
											</div>
										</div>
										<div class="col-sm-8">
											<div class="text-box margin-top-20">
												<ul class="list-dot font-size-13">
													<li>
														<b>원본 서버1231  </b>
														<span class="txt_long" title="{{instanceSnapshot.instanceName}}" ng-if="instanceSnapshot.beInstance" ng-click="main.goToPage('/iaas/compute/detail/'+instanceSnapshot.instanceId)">{{instanceSnapshot.instanceName}}</span>
														<span class="txt_long" title="{{instanceSnapshot.instanceName}}" ng-if="!instanceSnapshot.beInstance" ng-click="contents.fn.showErrorAlert()">{{instanceSnapshot.instanceName}}</span>
													</li>
													<li>
														<b>OS 이미지  </b>
														<span>{{ instanceSnapshot.imageName }}</span>
													</li>
													<li>
														<b>설명  </b>
														<div class="t_tip_bx"><a class="info-icon-tooltip"  tooltip-class="tooltip_long" tooltip-placement="top" uib-tooltip-html="'{{instanceSnapshot.description | enterByNbr}}'" ng-click="contents.fn.descriptionFormOpen($event, instanceSnapshot, 'server');">i</a></div>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="margin-top-20 text-center">
									<span class="state">
										<span class="state-round" ng-class="{'rgba-black-strong' : (instanceSnapshot.status == 'active'), 'rgba-brown-strong': (instanceSnapshot.status == 'error'), 'rgba-orange-strong' : (instanceSnapshot.status != 'active' && instanceSnapshot.status != 'error')}"></span>
										<span class="state-txt">{{'iaas.label.instance_snapshot_' +instanceSnapshot.status | translate}}</span>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- //백업이미지 관리 리스트(카드형) -->
			
			<!-- 백업이미지 관리 리스트(테이블형) -->
			<section class="panel panel-bordered" ng-if="(contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }).length > 0 && contents.listType == 'list'">
				<div class="panel-body padding-0">
					<div class="table-wrap border-0">
						<table class="table table-hover" cellspacing="0" width="100%">
							<colgroup>
								<col style="width:">
								<col style="width: 20%;">
								<col style="width: 15%;">
								<col style="width:">
								<col style="width: 10%;">
								<col style="width: 15%;">
								<col style="width: 8%;">
							</colgroup>
							<thead class="black white-text text-center">
								<th scope="col">이름</th>
								<th scope="col">원본서버</th>
								<th scope="col">OS이미지</th>
								<th scope="col">설명</th>
								<th scope="col">상태</th>
								<th scope="col">생성일</th>
								<th scope="col">관리</th>
							</thead>
							<tbody>
								<tr ng-repeat="instanceSnapshot in contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }">
									<td class="text-left">{{instanceSnapshot.name}}</td>
									<td class="text-left">
										<a class="txt_long" href="" title="{{instanceSnapshot.instanceName}}" ng-if="instanceSnapshot.beInstance" ng-click="main.goToPage('/iaas/compute/detail/'+instanceSnapshot.instanceId)">{{instanceSnapshot.instanceName}}</a>
										<a class="txt_long" href="" title="{{instanceSnapshot.instanceName}}" ng-if="!instanceSnapshot.beInstance" ng-click="contents.fn.showErrorAlert()">{{instanceSnapshot.instanceName}}</a>
									</td>
									<td class="text-center">{{ instanceSnapshot.imageName }}</td>
									<td class="text-left">{{instanceSnapshot.description | enterByNbr}}</td>
									<td class="text-center">
										<span class="state">
											<span class="state-round" ng-class="{'rgba-black-strong' : (instanceSnapshot.status == 'active'), 'rgba-brown-strong': (instanceSnapshot.status == 'error'), 'rgba-orange-strong' : (instanceSnapshot.status != 'active' && instanceSnapshot.status != 'error')}"></span>
											<span class="state-txt">{{'iaas.label.instance_snapshot_' +instanceSnapshot.status | translate}}</span>
										</span>
									</td>
									<td class="text-center">{{ instanceSnapshot.created | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
									<td class="text-center">
										<div class="dropdown btn-option">
											<button id="btn-option" type="button" class="btn btn-xs btn-nostyle dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="실행 설정">
												<div class="feather-icon">
													<i data-feather="more-horizontal" class="feather-directive"></i>
												</div>
											</button>
											<ul class="dropdown-menu dropdown-menu-right" role="btn-optionn" aria-labelledby="btn-option">
												<li ng-if="instanceSnapshot.status == 'active'"><a ng-click="main.goToPage('/iaas/snapshot/serverCreate/' + instanceSnapshot.id + '/');">서버 생성</a></li>
												<li ng-if="instanceSnapshot.status != 'active'"><a class="disabled" title="백업 이미지가‘사용가능’상태인 경우에만 '서버 생성'이 가능합니다.">서버 생성</a></li>
												<li><a ng-click="contents.fn.descriptionFormOpen($event, instanceSnapshot, 'server');">이미지 설명 변경</a></li>
												<li><a class="delete" ng-click="contents.fn.deleteInstanceSnapshot(instanceSnapshot);">이미지 삭제</a></li>
											</ul>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</section>
			<!-- //백업이미지 관리 리스트(테이블형) -->
			
			<!-- 생성된 서버 백업 이미지 없음 -->
			<div class="text-center blank-page" ng-if="!contents.loadingInstanceSnapshotList && (contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }).length == 0">
				<div class="img">
					<img src="../assets/img/icon/servers1.png">
				</div>
				<div class="cont">
					<p>생성된 서버 백업 이미지가 없습니다.</p>
				</div>
			</div>
			<!-- //생성된 서버 백업 이미지 없음 -->
			
			<!-- 검색결과 없음 -->
			<div class="text-center blank-page" ng-if="contents.loadingInstanceSnapshotList && (contents.instanceSnapshotList |  filter:{ name: contents.schInstanceFilterText, status : '!deleting' }).length == 0">
				<div class="img">
					<img src="../assets/img/icon/approval.png">
				</div>
				<div class="cont">
					<p>검색 결과가 없습니다.</p>
				</div>
			</div>
			<!-- //검색결과 없음 -->
		</div>
		
		<!-- tab1 cnt -->
		<div role="tabpanel" class="tab-pane in" ng-class="{'active' : contents.tabIndex == 1}">
			<!-- 백업이미지 관리 리스트(카드형) -->
			<div class="card-list-wrap" ng-if="(contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }).length  > 0 && contents.listType == 'image'">
				<div class="row">
					<div class="col-md-4" ng-repeat="storageSnapshot in contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }">
						<div class="card card-type1">
							<div class="card-header">
								<div class="card-info-area">
									<div class="text-box">
										<div class="top">
											<div class="row">
												<div class="col-xs-10">
													<b class="title" title="{{storageSnapshot.snapshotName}}">{{storageSnapshot.snapshotName}}</b>
													<!-- <b class="title" title="{{storageSnapshot.volumeName}}" ng-click="main.goToPage('/iaas/storage/detail/'+storageSnapshot.volumeId)">{{storageSnapshot.volumeName}}</b> -->
												</div>
												<div class="col-xs-2">
													<div class="pull-right dropdown btn-option">
														<button type="button" class="btn btn-xs btn-nostyle dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="실행 설정">
															<div class="feather-icon">
																<i data-feather="more-horizontal" class="feather-directive"></i>
															</div>
														</button>
														<ul class="dropdown-menu dropdown-menu-right" role="btn-optionn" aria-labelledby="btn-option">
															<li ng-if="storageSnapshot.status == 'available'" ><a ng-click="main.goToPage('/iaas/snapshot/storageCreate/' + storageSnapshot.snapshotId);">디스크 생성</a></li>
															<li ng-if="storageSnapshot.status != 'available'" ><a class="disabled" title="백업 이미지가‘사용가능’상태인 경우에만 '서버 생성'이 가능합니다.">디스크 생성</a></li>
															<li><a ng-click="contents.fn.descriptionFormOpen($event, storageSnapshot, 'storage');">이미지 설명 변경</a></li>
															<li><a class="delete" ng-click="contents.fn.deleteStorageSnapshot(storageSnapshot);">이미지 삭제</a></li>
														</ul>
													</div>
												</div>
											</div>
											<div class="clearfix">
												<span class="date">{{ storageSnapshot.createDate }}</span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="card-body" style="height:225px;">
								<div class="row">
									<div class="cnt_wrap padding-0">
										<div class="col-sm-4 text-center">
											<div class="cnt_imgBox">
												<span class="cnt_img ico02"></span>
												<div class="clearfix">{{storageSnapshot.size | displayVolume:'GB'}}</div>
											</div>
										</div>
										<div class="col-sm-8">
											<div class="text-box margin-top-20">
												<ul class="list-dot font-size-13">
													<li>
														<b>원본 디스크  </b>
														<span class="txt_long" title="{{storageSnapshot.volumeName}}">{{storageSnapshot.volumeName}}</span>
														<!-- <a class="link" ng-click="main.goToPage('/iaas/storage/detail/'+storageSnapshot.volumeId)"><span class="txt_long" title="{{storageSnapshot.volumeName}}">{{storageSnapshot.volumeName}}</span></a> -->
													</li>
													<li>
														<b>디스크 유형  </b>
														<span>디스크스토리지</span>
													</li>
													<li>
														<b>설명  </b>
														<div class="t_tip_bx"><a class="info-icon-tooltip"  tooltip-class="tooltip_long" tooltip-placement="top" uib-tooltip-html="'{{storageSnapshot.description | enterByNbr}}'" ng-click="contents.fn.descriptionFormOpen($event, storageSnapshot, 'storage');">i</a></div>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="margin-top-20 text-center">
									<span class="state">
										<span class="state-round" ng-class="{'rgba-black-strong' : (storageSnapshot.status == 'available'), 'rgba-brown-strong': (storageSnapshot.status == 'error'), 'rgba-orange-strong' : (storageSnapshot.status != 'available' && storageSnapshot.status != 'error')}"></span>
										<span class="state-txt">{{'iaas.label.volume_snapshot_' +storageSnapshot.status | translate}}</span>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- //백업이미지 관리 리스트(카드형) -->
			
			<!-- 디스크 백업이미지 관리 리스트(테이블형) -->
			<section class="panel panel-bordered" ng-if="(contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }).length > 0 && contents.listType == 'list'">
				<div class="panel-body padding-0">
					<div class="table-wrap border-0">
						<table class="table table-hover" cellspacing="0" width="100%">
							<colgroup>
								<col style="width:">
								<col style="width: 10%;">
								<col style="width: 10%;">
								<col style="width:">
								<col style="width: 10%;">
								<col style="width: 15%;">
								<col style="width: 8%;">
							</colgroup>
							<thead class="black white-text text-center">
								<th scope="col">이름</th>
								<th scope="col">원본디스크</th>
								<th scope="col">크기(GB)</th>
								<th scope="col">설명</th>
								<th scope="col">상태</th>
								<th scope="col">생성일</th>
								<th scope="col">관리</th>
							</thead>
							<tbody>
								<tr ng-repeat="storageSnapshot in contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }">
									<td class="text-left">{{storageSnapshot.snapshotName}}</td>
									<td class="text-center">{{storageSnapshot.volumeName}}</td>
									<td class="text-center">{{storageSnapshot.size | displayVolume:'GB'}}</td>
									<td class="text-left">{{storageSnapshot.description | enterByNbr}}</td>
									<td class="text-center">
										<span class="state">
											<span class="state-round" ng-class="{'rgba-black-strong' : (storageSnapshot.status == 'available'), 'rgba-brown-strong': (storageSnapshot.status == 'error'), 'rgba-orange-strong' : (storageSnapshot.status != 'available' && storageSnapshot.status != 'error')}"></span>
											<span class="state-txt">{{'iaas.label.volume_snapshot_' +storageSnapshot.status | translate}}</span>
										</span>
									</td>
									<td class="text-center">{{ storageSnapshot.createDate }}</td>
									<td class="text-center">
										<div class="dropdown btn-option">
											<button type="button" class="btn btn-xs btn-nostyle dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="실행 설정">
												<div class="feather-icon">
													<i data-feather="more-horizontal" class="feather-directive"></i>
												</div>
											</button>
											<ul class="dropdown-menu dropdown-menu-right" role="btn-optionn" aria-labelledby="btn-option">
												<li ng-if="storageSnapshot.status == 'available'" ><a ng-click="main.goToPage('/iaas/snapshot/storageCreate/' + storageSnapshot.snapshotId);">디스크 생성</a></li>
												<li ng-if="storageSnapshot.status != 'available'" ><a class="disabled" title="백업 이미지가‘사용가능’상태인 경우에만 '서버 생성'이 가능합니다.">디스크 생성</a></li>
												<li><a ng-click="contents.fn.descriptionFormOpen($event, storageSnapshot, 'storage');">이미지 설명 변경</a></li>
												<li><a class="delete" ng-click="contents.fn.deleteStorageSnapshot(storageSnapshot);">이미지 삭제</a></li>
											</ul>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</section>
			<!-- //디스크 백업이미지 관리 리스트(테이블형) -->
			
			<!-- 생성된 서버 백업 이미지 없음 -->
			<div class="text-center blank-page" ng-if="!contents.loadingStorageSnapshotList && (contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }).length == 0">
				<div class="img">
					<img src="../assets/img/icon/servers1.png">
				</div>
				<div class="cont">
					<p>생성된 디스크 백업 이미지가 없습니다.</p>
				</div>
			</div>
			<!-- //생성된 서버 백업 이미지 없음 -->
			
			<!-- 검색결과 없음 -->
			<div class="text-center blank-page" ng-if="contents.loadingStorageSnapshotList && (contents.storageSnapshotList |  filter:{ snapshotName: contents.schStorageFilterText, status : '!deleting' }).length == 0">
				<div class="img">
					<img src="../assets/img/icon/approval.png">
				</div>
				<div class="cont">
					<p>검색 결과가 없습니다.</p>
				</div>
			</div>
			<!-- //검색결과 없음 -->
		</div>
	</div>
</div>
<!-- //탭영역 -->

<!-- 테넌트 생성 전인 경우 -->
<div class="welcome_layer" ng-if="!main.userTenantId">
	<div class="text-center blank-page">
		<div class="img">
			<img src="../assets/img/icon/data-center.png" alt="data-center">
		</div>
		<div class="cont">
			<p>현재 생성한 프로젝트가 없습니다.</p>
			<p><span class="point">프로젝트를 생성</span> 하고 HUB-PoP 서비스를 사용하세요.</p>
		</div>
		<button type="button" class="btn btn-default btn-lg" ng-click="main.createPortalOrgSystem('iaas');">프로젝트 생성</button>
	</div>
</div>
<!-- //테넌트 생성 전인 경우 -->
