<div class="message_area">
	<div class="msg_bg"></div>
	<div class="msg_txt"><span>원본 백업 이미지로부터 새로운 서버를 생성합니다.</span></div>
</div>

<div class="panel_area">
	<div class="panel_box pn_l">
		<div class="pn_head">
			<h4 class="pnh_tit">백업 이미지로부터 신규 서버 만들기</h4>
		</div>
		<form name="{{contents.formName}}" novalidate>
			<div class="pn_body">
				<span class="sm_txt">* 는 필수입력 사항입니다.</span>
				<ul class="form_list">
					<li>
						<div class="pnb_tit">
							백업 이미지 이름<span class="ico_info"></span>
						</div>
						<input type="text" class="form-control" maxlength="50" ng-value="contents.snapshotInfo.name" disabled>
					</li>
					<li>
						<div class="pnb_tit">
							<i class="i_star"></i>서버 이름<span class="ico_info"></span>
						</div>
						<input type="text" class="form-control" name="serverName" ng-model="contents.data.name" maxlength="50" placeholder="서버 이름을 입력하세요." validation="alpha_dash_spaces|required">
					</li>
					<li ng-if="contents.snapshotInfo.osType == 'windows'" class="pn-Toggle">
						<div class="pnb_tit">
							<i class="i_star"></i> <span class="pnb_t_txt">접속 도메인</span>
							<div class="t_tip_bx"><button type="button" tooltip-placement="top" uib-tooltip-html="'생성된 윈도우 서버에 접속하기 위한 도메인 정보를 구성합니다.'"><span class="ico_info"></span></button></div>
							<!--<button type="button" name="button" class="btn_add_toggle" title="열고/닫기" ng-click="main.panelToggleChange($event);"><span class="ico_arw_sm_gray">열고/닫기</span></button>-->
						</div>
						<div class="s_cont_box" style="display: block;">
							<div class="app-form-two mgt0">
								<div class="two_box">
									<input type="text" class="form-control" name="subDomainName" maxlength="50" placeholder="접속 서브 도메인을 입력하세요." ng-model="contents.data.subDomainName" validation="alpha_num|required|custom:contents.fn.subDomainCustomValidationCheck(contents.data.subDomainName)">
								</div>
								<div class="two_box">
									<select name="baseDomainName" ng-model="contents.data.baseDomainName">
										<option value="{{contents.rdpBaseDomain}}">{{contents.rdpBaseDomain}}</option>
									</select>
								</div>
							</div>
							<div class="cnt_msg_box msg-info">서버 기본 사양에서 제공하는 디스크에 추가적인 디스크 공간을 할당할 수 있습니다.</div>
						</div>
					</li>
					<li>
						<div class="pnb_tit">
							<i class="i_star"></i> 사양 선택<span class="ico_info"></span> <img ng-if="!contents.specDisabledAllSetting" src="images/loading_sm.gif">
						</div>
						<div class="tbl type1">
							<table class="table">
								<colgroup>
									<col style="width:10%;">
									<col style="width:15%;">
									<col style="width:20%;">
									<col style="width:20%;">
									<col style="width:20%;">
								</colgroup>
								<thead>
									<tr>
										<th scope="col"></th>
										<th scope="col">종류</th>
										<th scope="col">vCPU</th>
										<th scope="col">메모리</th>
										<th scope="col">OS디스크</th>
									</tr>
								</thead>
								<tbody>
								<tr ng-repeat="(key, spec) in contents.specList | filter: {name:'m'} " ng-class="{'tbl_disabled': (!contents.specDisabledAllSetting || spec.disabled), 'tbl_selected': (spec.uuid == contents.specUuid)}" ng-click="contents.fn.selectSpec(spec);">
									<td>
										<div class="radio radio-only" >
											<input type="radio"
												   name="spec_radio"
												   ng-model="contents.specUuid"
												   id="spec_radio_{{key}}"
												   value="{{spec.uuid}}"
												   ng-disabled="(!contents.specDisabledAllSetting || spec.disabled)">
											<label for="spec_radio_{{key}}"></label>
										</div>
									</td>
									<td>{{spec.name}}</td>
									<td>{{spec.vcpus}} Core</td>
									<td>{{spec.ram | displayVolume:'MB'}}</td>
									<td>{{spec.disk | displayVolume:'GB'}}</td>
								</tr>
								</tbody>
							</table>
						</div>
					</li>
					<li class="pn-Toggle">
						<div class="pnb_tit">
							<span class="pnb_t_txt">디스크 추가</span>
							<div class="t_tip_bx"><button type="button" tooltip-placement="top" uib-tooltip-html="'가상 서버에 추가 디스크를 연결할 수 있습니다. 필요한 디스크 크기를 설정하여 제공되는 기본 저장공간외에 추가적인 저장공간을 확보할 수 있습니다.'"><span class="ico_info"></span></button><img ng-if="!contents.specDisabledAllSetting" src="images/loading_sm.gif" /></div>
							<button ng-if="contents.specDisabledAllSetting" type="button" name="button" class="btn_add_toggle" title="열고/닫기" ng-click="main.panelToggleChange($event, true);"><span class="ico_arw_sm_gray">열고/닫기</span></button>
						</div>
						<div class="s_cont_box">
							<div class="disk_area" ng-if="contents.specDisabledAllSetting">
								<p>마우스를 움직여 생성하실 디스크의 크기를 설정 해주세요.</p>
								<div ng-if="contents.specDisabledAllSetting" class="disk_info">최대 {{contents.volumeSliderOptions.ceil | number:0}}GB</div>
								<div class="disk_box">
									<div class="rangeWrap type2">
										<div class="range_box rb_l">
											<rzslider rz-slider-model="contents.volumeSize" rz-slider-options="contents.volumeSliderOptions"></rzslider>
										</div>
										<div class="range_box rb_r">
											<div class="range-text">
												<input type="text" class="form-control" ng-model="contents.inputVolumeSize" ng-change="contents.inputVolumeSizeChange()" ng-blur="contents.inputVolumeSizeBlur()" name="volumeSize" maxlength="4" style="width:60px; display: inline-block;">
												<span class="app-tit">GB</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</form>
		<div class="pn_footer">
			<div class="btn-btm mgt0">
				<button type="button" name="button" class="btn btn-color1 btn-md" ng-click="contents.fn.createServer();">서버 생성</button>
				<button type="button" name="button" class="btn btn-color2 btn-md" ng-click="main.goToHistoryBack();">취소</button>
			</div>
		</div>
	</div>
	<div class="panel_box pn_r">
	
		<div class="pn_head">
			<h4 class="pnh_tit ico01">서버 기본정보</h4>
		</div>
		<div class="pn_body">
			<div class="s_cont_box">
				<ul>
					<li>
						<span class="s_tit">서버 이름</span>
						<span class="s_txt">{{contents.data.name}}</span>
					</li>
					<li>
						<span class="s_tit">서버 OS</span>
						<span class="s_txt">{{contents.snapshotInfo.imageName}}</span>
					</li>
					<li>
						<span class="s_tit">서버 사양</span>
						<span class="s_txt">소형</span>
						<div class="s_inner_cont">
							<div class="innr_tbl">
								<table>
									<colgroup>
										<col width="30" />
										<col width="30" />
										<col width="30" />
									</colgroup>
									<thead>
										<tr>
											<th>vCPU</th>
											<th>메모리</th>
											<th>OS디스크</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>{{contents.data.spec.vcpus}} Core</td>
											<td>{{contents.data.spec.ram /1024|number}}GB</td>
											<td>{{contents.data.spec.disk | displayVolume : 'GB'}}</td>
										</tr>
									</tbody>
								</table>
								<span class="info_txt">*  ‘디스크’ 크기는 OS 설치에 필요한 디스크 공간을 포함한 수치입니다.</span>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="pn_body">
			<div class="btn-btm">
				<button type="button" name="button" class="btn_tutorial">서비스 튜토리얼 바로가기</button>
			</div>
		</div>

	</div>
</div>