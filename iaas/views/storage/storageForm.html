
<div class="message_area">
	<div class="msg_bg"></div>
	<div class="msg_txt"><span>‘디스크 만들기’를 통해 가상서버에 추가적인 저장공간을 할당할 수 있습니다.</span></div>
</div>

<div class="panel_area">
	<form name="{{contents.formName}}" novalidate>
		<div class="panel_box pn_l">
			<div class="pn_head">
				<h4 class="pnh_tit">디스크 만들기</h4>
			</div>
			<div class="pn_body">
				<span class="sm_txt">* 는 필수입력 사항입니다.</span>
				<ul class="form_list">
					<li>
						<div class="pnb_tit">
							<i class="i_star"></i> 디스크 이름<span class="ico_info"></span>
						</div>
						<input type="text" ng-model="contents.volume.name" name="volumeName" validation="required" class="form-control" maxlength="50" placeholder="디스크 이름을 입력하세요." >
					</li>
					<li>
						<div class="pnb_tit">
							<i class="i_star"></i> 저장공간 크기<span class="ico_info"></span> <img ng-if="!contents.isTenantResourceLoad" src="images/loading_sm.gif">
						</div>
						<div ng-if="contents.isTenantResourceLoad" class="pnb_box cToggle">
							<div class="pnb_bx_hd">
								<span class="hd_tit">프로젝트 사용가능 디스크 정보</span>
								<button type="button" name="button" class="btn btn-toggle" title="열고/닫기" ng-click="main.pnbBoxToggleChange($event);"><span class="ico_arw">열고/닫기</span></button>
							</div>
							<div class="pnb_bx_cnt">
								<div class="p_cnt_top">
									<span>디스크 사용량</span>
									<div class="txt_top">
										<span class="sty01">전체 디스크 공간</span>
										<span class="sty02">{{ contents.tenantResource.maxResource.volumeGigabytes }}</span>
										<span class="sty03">GB</span>
									</div>
								</div>
								<div class="p_cnt_mid">
									<span class="txt fl_l">0</span>
									<span class="txt fl_r">100</span>
									<div class="cnt_usage">
										<div class="use_left" ng-style="{ width: contents.tenantResource.usedResource.volumePercent + '%'}">
											<span>{{contents.tenantResource.usedResource.volumePercent | number:1}}%</span>
										</div>
										<div class="use_right" ng-style="{ width: contents.tenantResource.available.volumePercent + '%'}">
											<span>{{contents.tenantResource.available.volumePercent | number:1}}%</span>
										</div>
									</div>
								</div>
								<div class="p_cnt_btm">
									<ul>
										<li class="btm_use_left">
											<div>
												<span class="txt_tit">사용중</span>
												<span class="txt_val">{{ contents.tenantResource.usedResource.volumeGigabytes }}<span class="txt_sm">GB</span></span>
											</div>
										</li>
										<li class="btm_use_right">
											<div>
												<span class="txt_tit">남은 공간</span>
												<span class="txt_val">{{ contents.tenantResource.available.volumeGigabytes }}<span class="txt_sm">GB</span></span>
											</div>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div ng-if="contents.isTenantResourceLoad" class="disk_area">
							<div class="disk_info">최대 {{contents.volumeSliderOptions.ceil}}GB</div>
							<p>마우스를 움직여 생성하실 볼륨의 크기를 설정 해주세요.</p>
							<div class="disk_box">
								<div class="rangeWrap type2">
									<div class="range_box rb_l">
										<rzslider rz-slider-model="contents.volumeSize" rz-slider-options="contents.volumeSliderOptions"></rzslider>
									</div>
									<div class="range_box rb_r">
										<div class="range-text">
											<input type="text" class="form-control" ng-model="contents.volumeSize" name="volumeSize" maxlength="4" only-digits style="width:60px; display: inline-block;">
											<span class="app-tit">GB</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</li>
					<li>
						<div class="pnb_tit">설명<span class="ico_info"></span>
						</div>
						<div class="text_wrap">
							<textarea rows="5" cols="" id="volumeDescription" name="volumeDescription" style="height:150px;" ng-model="contents.volume.description" class="form-control"  placeholder="설명을 입력해 주세요." validation="max_len:100|required"></textarea>
							<!--<span class="txt_limit"><em ng-class="{'red' : (contents.volume.description.length > 100)}">{{contents.volume.description.length}}</em>/100자</span>-->
						</div>
					</li>
					<li>
						<div class="pnb_tit">
							<i class="i_star"></i> 가상서버와 연결<span class="ico_info"></span>
						</div>
						<div> <!--2018.11.14 sg0730 차후 가상서버 API받아와야함. -->
							<select class="form-control" ng-model="contents.sltInstanceId" ng-change="contents.fn.sltInstanceChange(contents.sltInstanceId);">
								<option value="">연결 할 가상서버 선택</option>
								<option ng-repeat="instance in contents.instances" value="{{instance.id}}">{{instance.name}}</option>
							</select>
						</div>
					</li>
				</ul>
<!--
				<div class="btn_add_area">
					<span>추가기능 설정하기</span>
					<button type="button" class="btn_add"></button>
				</div>
-->
			</div>
			<div class="pn_footer">
				<div class="btn-btm mgt0">
					<button type="button" name="button" class="btn btn-color1 btn-md" ng-click="contents.checkVal();">디스크 추가</button>
					<button type="button" name="button" class="btn btn-color2 btn-md" ng-click="main.goToPage('/iaas/storage')">취소</button>
				</div>
			</div>
		</div>
		<div class="panel_box pn_r">
			<div class="pn_head">
				<h4 class="pnh_tit ico02">디스크 기본정보</h4>
			</div>
			<div class="pn_body">
				<div class="s_cont_box">
					<ul>
						<li>
							<span class="s_tit">디스크 이름</span>
							<span class="s_txt">{{contents.volume.name}}</span>
						</li>
						<li>
							<span class="s_tit">디스크 크기</span>
							<span class="s_txt">{{contents.volumeSize | displayVolume:'GB'}}</span>
						</li>
						<li>
							<span class="s_tit">디스크 유형<span class="ico_info"></span></span>
							<span class="s_txt">Volume Storage</span>
						</li>
						<li>
							<span class="s_tit">디스크 설명</span>
							<!-- <span class="s_txt">text-area</span> -->
							<div class="s_inner_cont">
								<pre>{{contents.volume.description}}</pre>
							</div>
						</li>
					</ul>
				</div>
			</div>

			<div class="pn_head brdt">
				<h4 class="pnh_tit ico01">연결대상 가상서버 정보</h4>
			</div>
			<div class="pn_body">
				<div class="s_cont_box">
					<ul>
						<li>
							<span class="s_tit">서버 이름</span>
							<span class="s_txt">{{contents.sltInstance.name}}</span>
						</li>
						<li>
							<span class="s_tit">서버 OS</span>
							<span class="s_txt">{{contents.sltInstance.image.serviceName}}</span>
						</li>
						<li>
							<span class="s_tit">서버 접속IP</span>
							<span class="s_txt">{{contents.sltInstance.floatingIp}}</span>
						</li>
						<li>
							<span class="s_tit">서버 사양</span>
							<span class="s_txt">소형</span>
							<div class="s_inner_cont">
								<div class="innr_tbl">
									<table>
										<colgroup>
											<col width="30" />
											<col width="30" />
											<col width="30" />
										</colgroup>
										<thead>
										<tr>
											<th>vCPU</th>
											<th>메모리</th>
											<th>디스크</th>
										</tr>
										</thead>
										<tbody>
										<tr>
											<td>{{contents.sltInstance.spec.vcpus}} Core</td>
											<td>{{contents.sltInstance.spec.ram | displayVolume:'MB'}}</td>
											<td>{{contents.sltInstance.spec.disk | displayVolume:'GB'}}</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>

			<div class="pn_head brdt">
				<h4 class="pnh_tit ico03">프로젝트 사용가능 디스크 정보</h4>
			</div>
			<div class="pn_body">
				<div class="s_cont_box">
					<ul>
						<li>
							<span class="s_tit">전체 쿼터</span>
							<span class="s_txt">{{ contents.tenantResource.maxResource.volumeGigabytes | displayVolume:'GB' }}</span>
						</li>
						<li>
							<span class="s_tit">현재 사용량</span>
							<span class="s_txt">{{ contents.tenantResource.usedResource.volumeGigabytes | displayVolume:'GB' }}</span>
						</li>
						<li>
							<span class="s_tit">잔여 용량</span>
							<span class="s_txt">{{ contents.tenantResource.available.volumeGigabytes | displayVolume:'GB' }}</span>
						</li>
					</ul>
				</div>
				<div class="btn-btm">
					<button type="button" name="button" class="btn_tutorial">서비스 튜토리얼 바로가기</button>
				</div>
			</div>

		</div>
	</form>
</div>